# JavaScript基础04天

> 1.能说出函数的作用
>
> 2.能使用function关键字定义函数
>
> 3.能使用`函数名()`的格式调用函数
>
> 4.能给函数添加参数
>
> 5.能使用return修改函数的返回值
>
> 6.能说出什么是预解析
>
> 7.能理解全局作用域和局部作用域





## 函数

### 函数是什么

函数是一段可以重复使用的代码段，是一个特殊的语法

### 作用是什么

可以控制代码是否重复使用

### 怎么用

#### 声明函数

```js
function 函数名(){
  重复使用的代码——函数体
}
```

注意点： 函数里面的代码是不会执行，必须调用之后才会执行

#### 函数的调用

```js
函数名();
```

函数只要调用了，就会把函数里面的代码执行一次

注意点：

1函数里面可以调用另一个函数；

2函数被调用的时候，会执行代码，当函数执行完毕之后，会回到被调用的位置继续向下执行





#### 函数的参数

是什么

是一个占位符，相当于是一个变量的作用，只需要每次在调用的时候，给一个真实的值

有什么用

解决了重复使用的代码里面，可以有某些数据，每次调用都不一样的问题

怎么用

必须先安装固定的语法格式，先声明函数

```js
function 函数名(参数列表){
  函数体
}
```

每次调用函数，就按照参数列表的参数顺序，传递一个实际的值给参数

```js
函数名(参数);
```

例如：

```js
function getSum(a,b){
  console.log(a + b);
}

getSum(10,20);
```

在我们调用函数的时候，是把参数一个一个按照顺序传递进入函数内部的



##### 形参和实参的关系

发现形参的值发生改变，不会影响实参的值



#### 函数的返回值

什么是函数的返回值： 函数的执行结果，默认是undefined

#### 有什么用，怎么用

只要你想要得到函数的执行结果，就使用一个变量把这个结果保存一下，这个结果不一定是你想要的，如果你想修改函数的返回值，就在函数体里面加上return ，然后在return后面放你想要得到的数据

例如：求两个数字的和，再把这个和用来做别的运算

```js
function getSum(a,b){
  return a + b;
}
var sum = getSum(10,20);
// 再使用 sum 变量和别的数据进行操作也是可以行的
```



## 入门的初学者写函数的过程

1.看需求，分析要实现的的过程，先把实现过程写出来

2.分析过程里面，哪些数据是可能产生变化的，把这些可能产生变化的变成参数

3.把不会变化的过程，作为函数体

4.按照函数的语法写代码

5.考虑是否需要修改函数的返回值



## return关键字

1.修改函数的返回值

2.终止函数的继续执行



## 补充

### arguments伪数组

是什么 ： 是一个伪数组，里面有所有的函数调用时的实参

特点：

1.里面包含了所有的函数调用时的实参

2.不需要声明，在每个函数中，都是自带的

3.不能在函数外部使用

有什么用：

当形参个数比较多，或则形参个数不确定的时候，就可以使用该伪数组来 解决

怎么用：当初一个数组使用即可



### 函数表达式

函数表达式其实就是另一种函数的表示方式 —— 只不过这个方式不是特别常用

语法：

```js
var 变量名 = function（参数列表）{ 函数体 }
```



## 预解析

是一个我们看不见的过程，这个过程把函数和变量的声明提升到最前面，把函数的调用，变量的赋值，还在原来的位置

有什么用？写代码可以更加的方便和随意

怎么用？不要手动的使用，享受这个福利就可以了

自己模拟一个手动的预解析

```js
// 我们看到的代码
f1(1,2);
function f1(a, b) {
  console.log(a + b);
}

f2(4,5);
var f2 = function (a, b) {
  console.log(a + b);
}
```

预解析之后的代码

```js
function f1(a, b) {
  console.log(a + b);
}
var f2;
f1(1, 2); 

f2(4, 5);
f2 = function (a, b) {
  console.log(a + b);
}
```



## 作用域

什么是作用域： 变量或者函数的有效使用范围

有什么用？

推荐使用全局还是局部作用域？

推荐使用局部作用域里面的变量。因为如果你的所有的变量都是用全局变量，会造成一个问题： 全局污染

所以为了避免全局污染的问题，我们更加推荐使用局部变量。

怎么用？平时尽量使用局部，当我们就是希望数据可以被共享，才选择使用全局



### 作用域链

​    当我们的代码里面存在多级作用域的时候，就会形成作用域链

​    其实指的是一个变量的访问规则

​      1.如果当前的作用域内部有变量，优先使用当前作用域内部的

​      2.如果当前作用域内部没有该变量，返回上一级作用域，甚至链上 进行查找

​      3.如果直到全局作用域还是没有，会报错



## 补充

### 匿名函数

是什么？没有名字的函数

有什么用？

1.函数表达式，2.后面的课程使用的事件里面有用，3.自调用函数里面，4.作为函数的参数存在

### 自调用函数

是什么？自动调用的函数

有什么用？ 解决全局污染的函数命名的问题

怎么用的？

```js
(function(){
  var aaaa = '狗蛋';
  console.log(aaaa);
})();
(function(){
  var aaaa = '翠花';
  console.log(aaaa);
})();
(function(){
  var aaaa = '铁蛋';
  console.log(aaaa);
})();
```

注意点： 多个自调用函数之间，需要分号隔开



### 函数也是一种数据类型

先证明函数也是一种数据类型

```js
function a(){} // 这是一个函数
console.log(typeof a); // 输出 function
```

函数如果也是数据类型，函数就可以作为参数

```js
function f1(a,fn){
  console.log(a);
  console.log(fn);
  fn();
}

function f2(){
  console.log('这里是f2里面的代码');
}

f1('abc',f2);
```

最终f2被执行了，说明，f2确实作为了f1的参数。后面很多其他的js里面提供的方法，都是以函数作为参数的。



### 回调函数

什么是回调函数： 以参数的形式传入另外一个函数的函数，然后在另一个函数的特定时机进行调用的函数

用法：

```js
function f1(a,fn){
  console.log(a);
  fn();
}
function f2(){
  console.log('f2');
}
f1('abc',f2);// f2就是f1的回调函数
```



### 短路运算

短路运算就是逻辑与和逻辑或的运算法则

如果逻辑或的左边，是true，会返回左边，如果是false，返回右边

如果逻辑语句的左边是true，会返回右边，如果是false，会返回左边

能用来干嘛：

逻辑与可以把回调函数的判断简写

```js
function f1(a,fn){
  console.log(a);
  fn && fn();
}
```

逻辑或可以用来给函数设置参数的默认值

```js
function getSum(a,b,c){
  a = a || 0;
  b = b || 0;
  c = c || 0;
  return a + b + c;
}
```











